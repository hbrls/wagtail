(()=>{"use strict";var e,t={1293:function(e,t,a){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var r=o(a(5311)),i=a(5781);function n(e){(0,r.default)("form.image-upload",e.body).on("submit",(function(){var t=new FormData(this);if((0,r.default)("#id_image-chooser-upload-title",e.body).val())r.default.ajax({url:this.action,data:t,processData:!1,contentType:!1,type:"POST",dataType:"text",success:e.loadResponseText,error:function(e,t,a){var o=jsonData.error_message+"<br />"+a+" - "+e.status;(0,r.default)("#tab-upload").append('<div class="help-block help-critical"><strong>'+jsonData.error_label+": </strong>"+o+"</div>")}});else{var a=(0,r.default)("#id_image-chooser-upload-title",e.body).closest("li");a.hasClass("error")||(a.addClass("error"),(0,r.default)("#id_image-chooser-upload-title",e.body).closest(".field-content").append('<p class="error-message"><span>This field is required.</span></p>')),setTimeout(cancelSpinner,500)}return!1}));var t=(0,r.default)("#id_image-chooser-upload-file",e.body);t.on("change",(function(){var a=(0,r.default)("#id_image-chooser-upload-title",e.body);if(""===a.val()){var o=t.val().split("\\"),i=o[o.length-1],n=parseInt(a.attr("maxLength")||"0",10)||null,l={title:i.replace(/\.[^.]+$/,"")};if(!t.closest("form").get(0).dispatchEvent(new CustomEvent("wagtail:images-upload",{bubbles:!0,cancelable:!0,detail:{data:l,filename:i,maxTitleLength:n}})))return;a.val(l.title)}}))}window.IMAGE_CHOOSER_MODAL_ONLOAD_HANDLERS={chooser:function(e,t){var a,o=(0,r.default)("form.image-search",e.body),l=o.attr("action");function u(t){(0,r.default)(".listing a",t).on("click",(function(){return e.loadUrl(this.href),!1})),(0,r.default)(".pagination a",t).on("click",(function(){return s(this.href),!1}))}function s(e,t){var o={url:e,success:function(e,t){a=null,(0,r.default)("#image-results").html(e),u((0,r.default)("#image-results"))},error:function(){a=null}};t&&(o.data=t),a=r.default.ajax(o)}function d(){return s(l,o.serialize()),!1}u(e.body),n(e),(0,r.default)("form.image-search",e.body).on("submit",d),(0,r.default)("#id_q").on("input",(function(){a&&a.abort(),clearTimeout(r.default.data(this,"timer"));var e=setTimeout(d,200);(0,r.default)(this).data("timer",e)})),(0,r.default)("#collection_chooser_collection_id").on("change",d),(0,r.default)("a.suggested-tag").on("click",(function(){return(0,r.default)("#id_q").val(""),s(l,{tag:(0,r.default)(this).text(),collection_id:(0,r.default)("#collection_chooser_collection_id").val()}),!1})),(0,i.initTabs)()},image_chosen:function(e,t){e.respond("imageChosen",t.result),e.close()},duplicate_found:function(e,t){(0,r.default)("#tab-upload",e.body).replaceWith(t.htmlFragment),(0,r.default)(".use-new-image",e.body).on("click",(function(){return e.loadUrl(this.href),!1})),(0,r.default)(".use-existing-image",e.body).on("click",(function(){var t=(0,r.default)(this).closest("form"),a=(0,r.default)('input[name="csrfmiddlewaretoken"]',t).val();return e.postForm(this.href,{csrfmiddlewaretoken:a}),!1}))},reshow_upload_form:function(e,t){(0,r.default)("#tab-upload",e.body).replaceWith(t.htmlFragment),(0,i.initTabs)(),n(e)},select_format:function(e){var t=document.querySelector("#id_image-chooser-insertion-image_is_decorative"),a=document.querySelector("#id_image-chooser-insertion-alt_text"),o=document.querySelector('[for="id_image-chooser-insertion-alt_text"]');function i(){a.setAttribute("disabled","disabled"),o.classList.remove("required")}function n(){a.removeAttribute("disabled"),o.classList.add("required")}t.checked?i():n(),t.addEventListener("change",(function(e){e.target.checked?i():n()})),(0,r.default)("form",e.body).on("submit",(function(){return r.default.post(this.action,(0,r.default)(this).serialize(),e.loadResponseText,"text"),!1}))}}},5311:e=>{e.exports=jQuery}},a={};function o(e){var r=a[e];if(void 0!==r)return r.exports;var i=a[e]={exports:{}};return t[e].call(i.exports,i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,a,r,i)=>{if(!a){var n=1/0;for(d=0;d<e.length;d++){for(var[a,r,i]=e[d],l=!0,u=0;u<a.length;u++)(!1&i||n>=i)&&Object.keys(o.O).every((e=>o.O[e](a[u])))?a.splice(u--,1):(l=!1,i<n&&(n=i));if(l){e.splice(d--,1);var s=r();void 0!==s&&(t=s)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[a,r,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.j=2813,(()=>{var e={2813:0};o.O.j=t=>0===e[t];var t=(t,a)=>{var r,i,[n,l,u]=a,s=0;if(n.some((t=>0!==e[t]))){for(r in l)o.o(l,r)&&(o.m[r]=l[r]);if(u)var d=u(o)}for(t&&t(a);s<n.length;s++)i=n[s],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(d)},a=globalThis.webpackChunkwagtail=globalThis.webpackChunkwagtail||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=o.O(void 0,[2751],(()=>o(1293)));r=o.O(r)})();