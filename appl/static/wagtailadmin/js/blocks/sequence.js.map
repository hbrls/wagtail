{"version":3,"sources":["webpack://wagtail/./client/src/entrypoints/admin/blocks/sequence.js","webpack://wagtail/external \"jQuery\"","webpack://wagtail/webpack/bootstrap","webpack://wagtail/webpack/runtime/global","webpack://wagtail/webpack/runtime/hasOwnProperty shorthand","webpack://wagtail/webpack/runtime/jsonp chunk loading","webpack://wagtail/webpack/startup"],"names":["__importDefault","this","mod","__esModule","exports","jquery_1","window","SequenceMember","sequence","prefix","self","container","indexField","deleteMember","prependMember","template","insertMemberBefore","appendMember","insertMemberAfter","moveUp","moveMemberUp","moveDown","moveMemberDown","markDeleted","val","slideUp","dequeue","fadeOut","markAdded","hide","slideDown","setTimeout","$input","$firstField","first","is","get","draftailEditor","focus","trigger","getIndex","parseInt","setIndex","i","Sequence","opts","list","countField","members","getNewMemberPrefix","newIndex","getCount","postInsertMember","newMember","onInitializeMember","index","onDisableMoveUp","onEnableMoveUp","length","onDisableMoveDown","onEnableMoveDown","maxNumChildBlocks","onDisableAdd","elementFromTemplate","newPrefix","replace","otherMember","newMemberPrefix","elem","before","splice","after","insertMemberAtStart","prepend","unshift","insertMemberAtEnd","append","push","member","onEnableAdd","oldIndex","swappedMember","insertBefore","insertAfter","count","memberPrefix","sequenceMember","module","jQuery","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","call","m","x","g","globalThis","Function","e","o","obj","prop","Object","prototype","hasOwnProperty","installedChunks","37","deferredModules","checkDeferredModules","webpackJsonpCallback","parentChunkLoadingFunction","data","chunkId","chunkIds","moreModules","runtime","executeModules","resolves","shift","apply","chunkLoadingGlobal","checkDeferredModulesImpl","result","deferredModule","fulfilled","j","depId","s","forEach","bind","startup"],"mappings":"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","file":"wagtail/admin/static/wagtailadmin/js/blocks/sequence.js","sourcesContent":["\"use strict\";\n/*\n\nOperations on a sequence of items, common to both ListBlock and StreamBlock.\n\nThese assume the presence of a container element named \"{prefix}-container\" for each list item, and\ncertain hidden fields such as \"{prefix}-deleted\" as defined in sequence_member.html, but make no assumptions\nabout layout or visible controls within the block.\n\nFor example, they don't assume the presence of a 'delete' button - it's up to the specific subclass\n(list.js / stream.js) to attach this to the SequenceMember.delete method.\n\nCODE FOR SETTING UP SPECIFIC UI WIDGETS, SUCH AS DELETE BUTTONS OR MENUS, DOES NOT BELONG HERE.\n\n*/\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar jquery_1 = __importDefault(require(\"jquery\"));\n// eslint-disable-next-line func-names\nwindow.SequenceMember = function (sequence, prefix) {\n    var self = {};\n    self.prefix = prefix;\n    self.container = jquery_1[\"default\"]('#' + self.prefix + '-container');\n    var indexField = jquery_1[\"default\"]('#' + self.prefix + '-order');\n    // eslint-disable-next-line func-names\n    self[\"delete\"] = function () {\n        sequence.deleteMember(self);\n    };\n    // eslint-disable-next-line func-names\n    self.prependMember = function (template) {\n        sequence.insertMemberBefore(self, template);\n    };\n    // eslint-disable-next-line func-names\n    self.appendMember = function (template) {\n        sequence.insertMemberAfter(self, template);\n    };\n    // eslint-disable-next-line func-names\n    self.moveUp = function () {\n        sequence.moveMemberUp(self);\n    };\n    // eslint-disable-next-line func-names\n    self.moveDown = function () {\n        sequence.moveMemberDown(self);\n    };\n    // eslint-disable-next-line func-names\n    self.markDeleted = function () {\n        /* set this list member's hidden 'deleted' flag to true */\n        jquery_1[\"default\"]('#' + self.prefix + '-deleted').val('1');\n        /* hide the list item */\n        self.container.slideUp().dequeue().fadeOut();\n    };\n    // eslint-disable-next-line func-names\n    self.markAdded = function () {\n        self.container.hide();\n        self.container.slideDown();\n        // focus first suitable input found\n        setTimeout(function () {\n            var $input = jquery_1[\"default\"]('.input', self.container);\n            var $firstField = jquery_1[\"default\"]('input, textarea, [data-hallo-editor], [data-draftail-input]', $input).first();\n            if ($firstField.is('[data-draftail-input]')) {\n                $firstField.get(0).draftailEditor.focus();\n            }\n            else {\n                $firstField.trigger('focus');\n            }\n        }, 250);\n    };\n    // eslint-disable-next-line func-names\n    self.getIndex = function () {\n        return parseInt(indexField.val(), 10);\n    };\n    // eslint-disable-next-line func-names\n    self.setIndex = function (i) {\n        indexField.val(i);\n    };\n    return self;\n};\n// eslint-disable-next-line func-names\nwindow.Sequence = function (opts) {\n    var self = {};\n    var list = jquery_1[\"default\"]('#' + opts.prefix + '-list');\n    var countField = jquery_1[\"default\"]('#' + opts.prefix + '-count');\n    /* NB countField includes deleted items; for the count of non-deleted items, use members.length */\n    var members = [];\n    // eslint-disable-next-line func-names\n    self.getCount = function () {\n        return parseInt(countField.val(), 10);\n    };\n    function getNewMemberPrefix() {\n        /* Update the counter and use it to create a prefix for the new list member */\n        var newIndex = self.getCount();\n        countField.val(newIndex + 1);\n        return opts.prefix + '-' + newIndex;\n    }\n    function postInsertMember(newMember) {\n        /* run any supplied initializer functions */\n        if (opts.onInitializeMember) {\n            opts.onInitializeMember(newMember);\n        }\n        var index = newMember.getIndex();\n        if (index === 0) {\n            /* first item should have 'move up' disabled */\n            if (opts.onDisableMoveUp)\n                opts.onDisableMoveUp(newMember);\n        }\n        else {\n            if (opts.onEnableMoveUp)\n                opts.onEnableMoveUp(newMember);\n        }\n        if (index === (members.length - 1)) {\n            /* last item should have 'move down' disabled */\n            if (opts.onDisableMoveDown)\n                opts.onDisableMoveDown(newMember);\n        }\n        else {\n            if (opts.onEnableMoveDown)\n                opts.onEnableMoveDown(newMember);\n        }\n        newMember.markAdded();\n        if (members.length >= opts.maxNumChildBlocks && opts.onDisableAdd) {\n            /* maximum block capacity has been reached */\n            opts.onDisableAdd(members);\n        }\n    }\n    function elementFromTemplate(template, newPrefix) {\n        /* generate a jquery object ready to be inserted into the list, based on the passed HTML template string.\n              '__PREFIX__' will be substituted with newPrefix, and script tags escaped as <-/script> will be un-escaped */\n        return jquery_1[\"default\"](template.replace(/__PREFIX__/g, newPrefix).replace(/<-(-*)\\/script>/g, '<$1/script>'));\n    }\n    // eslint-disable-next-line func-names\n    self.insertMemberBefore = function (otherMember, template) {\n        var newMemberPrefix = getNewMemberPrefix();\n        /* Create the new list member element with the real prefix substituted in */\n        var elem = elementFromTemplate(template, newMemberPrefix);\n        otherMember.container.before(elem);\n        // eslint-disable-next-line no-undef, new-cap\n        var newMember = SequenceMember(self, newMemberPrefix);\n        var index = otherMember.getIndex();\n        /* bump up index of otherMember and subsequent members */\n        for (var i = index; i < members.length; i++) {\n            members[i].setIndex(i + 1);\n        }\n        members.splice(index, 0, newMember);\n        newMember.setIndex(index);\n        postInsertMember(newMember);\n        if (index === 0 && opts.onEnableMoveUp) {\n            /* other member can now move up */\n            opts.onEnableMoveUp(otherMember);\n        }\n        return newMember;\n    };\n    // eslint-disable-next-line func-names\n    self.insertMemberAfter = function (otherMember, template) {\n        var newMemberPrefix = getNewMemberPrefix();\n        /* Create the new list member element with the real prefix substituted in */\n        var elem = elementFromTemplate(template, newMemberPrefix);\n        otherMember.container.after(elem);\n        // eslint-disable-next-line no-undef, new-cap\n        var newMember = SequenceMember(self, newMemberPrefix);\n        var index = otherMember.getIndex() + 1;\n        /* bump up index of subsequent members */\n        for (var i = index; i < members.length; i++) {\n            members[i].setIndex(i + 1);\n        }\n        members.splice(index, 0, newMember);\n        newMember.setIndex(index);\n        postInsertMember(newMember);\n        if (index === (members.length - 1) && opts.onEnableMoveDown) {\n            /* other member can now move down */\n            opts.onEnableMoveDown(otherMember);\n        }\n        return newMember;\n    };\n    // eslint-disable-next-line func-names\n    self.insertMemberAtStart = function (template) {\n        /* NB we can't just do\n                  self.insertMemberBefore(members[0], template)\n              because that won't work for initially empty lists\n              */\n        var newMemberPrefix = getNewMemberPrefix();\n        /* Create the new list member element with the real prefix substituted in */\n        var elem = elementFromTemplate(template, newMemberPrefix);\n        list.prepend(elem);\n        // eslint-disable-next-line no-undef, new-cap\n        var newMember = SequenceMember(self, newMemberPrefix);\n        /* bump up index of all other members */\n        for (var i = 0; i < members.length; i++) {\n            members[i].setIndex(i + 1);\n        }\n        members.unshift(newMember);\n        newMember.setIndex(0);\n        postInsertMember(newMember);\n        if (members.length > 1 && opts.onEnableMoveUp) {\n            /* previous first member can now move up */\n            opts.onEnableMoveUp(members[1]);\n        }\n        return newMember;\n    };\n    // eslint-disable-next-line func-names\n    self.insertMemberAtEnd = function (template) {\n        var newMemberPrefix = getNewMemberPrefix();\n        /* Create the new list member element with the real prefix substituted in */\n        var elem = elementFromTemplate(template, newMemberPrefix);\n        list.append(elem);\n        // eslint-disable-next-line no-undef, new-cap\n        var newMember = SequenceMember(self, newMemberPrefix);\n        newMember.setIndex(members.length);\n        members.push(newMember);\n        postInsertMember(newMember);\n        if (members.length > 1 && opts.onEnableMoveDown) {\n            /* previous last member can now move down */\n            opts.onEnableMoveDown(members[members.length - 2]);\n        }\n        return newMember;\n    };\n    // eslint-disable-next-line func-names\n    self.deleteMember = function (member) {\n        var index = member.getIndex();\n        /* reduce index numbers of subsequent members */\n        for (var i = index + 1; i < members.length; i++) {\n            members[i].setIndex(i - 1);\n        }\n        /* remove from the 'members' list */\n        members.splice(index, 1);\n        member.markDeleted();\n        if (index === 0 && members.length > 0 && opts.onDisableMoveUp) {\n            /* deleting the first member; the new first member cannot move up now */\n            opts.onDisableMoveUp(members[0]);\n        }\n        if (index === members.length && members.length > 0 && opts.onDisableMoveDown) {\n            /* deleting the last member; the new last member cannot move down now */\n            opts.onDisableMoveDown(members[members.length - 1]);\n        }\n        if (members.length + 1 >= opts.maxNumChildBlocks && members.length < opts.maxNumChildBlocks && opts.onEnableAdd) {\n            /* there is now capacity left for another block */\n            opts.onEnableAdd(members);\n        }\n    };\n    // eslint-disable-next-line func-names\n    self.moveMemberUp = function (member) {\n        var oldIndex = member.getIndex();\n        if (oldIndex > 0) {\n            var newIndex = oldIndex - 1;\n            var swappedMember = members[newIndex];\n            members[newIndex] = member;\n            member.setIndex(newIndex);\n            members[oldIndex] = swappedMember;\n            swappedMember.setIndex(oldIndex);\n            member.container.insertBefore(swappedMember.container);\n            if (newIndex === 0) {\n                /*\n                          member is now the first member and cannot move up further;\n                          swappedMember is no longer the first member, and CAN move up\n                          */\n                if (opts.onDisableMoveUp)\n                    opts.onDisableMoveUp(member);\n                if (opts.onEnableMoveUp)\n                    opts.onEnableMoveUp(swappedMember);\n            }\n            if (oldIndex === (members.length - 1)) {\n                /*\n                          member was previously the last member, and can now move down;\n                          swappedMember is now the last member, and cannot move down\n                          */\n                if (opts.onEnableMoveDown)\n                    opts.onEnableMoveDown(member);\n                if (opts.onDisableMoveDown)\n                    opts.onDisableMoveDown(swappedMember);\n            }\n        }\n    };\n    // eslint-disable-next-line func-names\n    self.moveMemberDown = function (member) {\n        var oldIndex = member.getIndex();\n        if (oldIndex < (members.length - 1)) {\n            var newIndex = oldIndex + 1;\n            var swappedMember = members[newIndex];\n            members[newIndex] = member;\n            member.setIndex(newIndex);\n            members[oldIndex] = swappedMember;\n            swappedMember.setIndex(oldIndex);\n            member.container.insertAfter(swappedMember.container);\n            if (newIndex === (members.length - 1)) {\n                /*\n                          member is now the last member and cannot move down further;\n                          swappedMember is no longer the last member, and CAN move down\n                          */\n                if (opts.onDisableMoveDown)\n                    opts.onDisableMoveDown(member);\n                if (opts.onEnableMoveDown)\n                    opts.onEnableMoveDown(swappedMember);\n            }\n            if (oldIndex === 0) {\n                /*\n                          member was previously the first member, and can now move up;\n                          swappedMember is now the first member, and cannot move up\n                          */\n                if (opts.onEnableMoveUp)\n                    opts.onEnableMoveUp(member);\n                if (opts.onDisableMoveUp)\n                    opts.onDisableMoveUp(swappedMember);\n            }\n        }\n    };\n    /* initialize initial list members */\n    var count = self.getCount();\n    for (var i = 0; i < count; i++) {\n        var memberPrefix = opts.prefix + '-' + i;\n        // eslint-disable-next-line no-undef, new-cap\n        var sequenceMember = SequenceMember(self, memberPrefix);\n        members[i] = sequenceMember;\n        if (opts.onInitializeMember) {\n            opts.onInitializeMember(sequenceMember);\n        }\n        if (i === 0) {\n            /* first item should have 'move up' disabled */\n            if (opts.onDisableMoveUp)\n                opts.onDisableMoveUp(sequenceMember);\n        }\n        else {\n            if (opts.onEnableMoveUp)\n                opts.onEnableMoveUp(sequenceMember);\n        }\n        if (i === (count - 1)) {\n            /* last item should have 'move down' disabled */\n            if (opts.onDisableMoveDown)\n                opts.onDisableMoveDown(sequenceMember);\n        }\n        else {\n            if (opts.onEnableMoveDown)\n                opts.onEnableMoveDown(sequenceMember);\n        }\n    }\n    if (members.length >= opts.maxNumChildBlocks && opts.onDisableAdd) {\n        /* block capacity is already reached on initialization */\n        opts.onDisableAdd(members);\n    }\n    return self;\n};\n","module.exports = jQuery;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n// It's empty as some runtime module handles the default behavior\n__webpack_require__.x = function() {}\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// Promise = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t37: 0\n};\n\nvar deferredModules = [\n\t[87862,751],\n\t[90971,751]\n];\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\nvar checkDeferredModules = function() {};\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\tvar executeModules = data[3];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0, resolves = [];\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tresolves.push(installedChunks[chunkId][0]);\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\twhile(resolves.length) {\n\t\tresolves.shift()();\n\t}\n\n\t// add entry modules from loaded chunk to deferred list\n\tif(executeModules) deferredModules.push.apply(deferredModules, executeModules);\n\n\t// run deferred modules when all chunks ready\n\treturn checkDeferredModules();\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwagtail\"] = self[\"webpackChunkwagtail\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));\n\nfunction checkDeferredModulesImpl() {\n\tvar result;\n\tfor(var i = 0; i < deferredModules.length; i++) {\n\t\tvar deferredModule = deferredModules[i];\n\t\tvar fulfilled = true;\n\t\tfor(var j = 1; j < deferredModule.length; j++) {\n\t\t\tvar depId = deferredModule[j];\n\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferredModules.splice(i--, 1);\n\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n\t\t}\n\t}\n\tif(deferredModules.length === 0) {\n\t\t__webpack_require__.x();\n\t\t__webpack_require__.x = function() {};\n\t}\n\treturn result;\n}\nvar startup = __webpack_require__.x;\n__webpack_require__.x = function() {\n\t// reset startup function so it can be called again when more startup code is added\n\t__webpack_require__.x = startup || (function() {});\n\treturn (checkDeferredModules = checkDeferredModulesImpl)();\n};","// run startup\nreturn __webpack_require__.x();\n"],"sourceRoot":""}