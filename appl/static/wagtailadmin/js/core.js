(()=>{"use strict";var e,t={4639:function(e,t,n){var o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var a=r(n(5311));window.addMessage=function(e,t){(0,a.default)(".messages").addClass("new").empty().append('<ul><li class="'+e+'">'+t+"</li></ul>");var n=setTimeout((function(){(0,a.default)(".messages").addClass("appear"),clearTimeout(n)}),100)},window.escapeHtml=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,(function(e){return t[e]}))},window.initTagField=function(e,t,n){var o=Object.assign({autocomplete:{source:t},preprocessTag:function(e){return e&&'"'!==e[0]&&e.indexOf(" ")>-1?'"'+e+'"':e}},n);(0,a.default)("#"+e).tagit(o)},window.enableDirtyFormCheck=function(e,t){var n=(0,a.default)(e),r=t.confirmationMessage||" ",i=t.alwaysDirty||!1,s=t.commentApp||null,l=t.callback||null,u=null,c=!1,d=function(e,t){l&&l(e,t)};n.on("submit",(function(){c=!0}));var f=i,p=!1,h=-1;s&&(p=s.selectors.selectIsDirty(s.store.getState()),s.store.subscribe((function(){clearTimeout(h),h=setTimeout((function(){var e=s.selectors.selectIsDirty(s.store.getState());e!==p&&d(f,p=e)}),p?3e3:300)}))),d(f,p);var v=-1,w=function(){f!==(f=function(){if(i)return!0;if(!u)return!1;var e=new FormData(n[0]),t=Array.from(e.keys()).filter((function(e){return!e.startsWith("comments-")}));return t.length!==u.size||t.some((function(t){var n=e.getAll(t),o=u.get(t);return n!==o&&!(!Array.isArray(n)||!Array.isArray(o))&&(n.length!==o.length||n.some((function(e,t){return e!==o[t]})))}))}())&&d(f,p)};i||setTimeout((function(){var e=new FormData(n[0]);u=new Map,Array.from(e.keys()).filter((function(e){return!e.startsWith("comments-")})).forEach((function(t){return u.set(t,e.getAll(t))}));var t=function(){clearTimeout(v),v=setTimeout(w,f?3e3:300)};n.on("change keyup",t).trigger("change");var r=function(e){var t,n;try{for(var r=o(e),a=r.next();!a.done;a=r.next()){var i=a.value;if(i.nodeType===i.ELEMENT_NODE&&["INPUT","TEXTAREA","SELECT"].includes(i.tagName))return!0}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!1};new MutationObserver((function(e){var n,a;try{for(var i=o(e),s=i.next();!s.done;s=i.next()){var l=s.value;if(r(l.addedNodes)||r(l.removedNodes))return void t()}}catch(e){n={error:e}}finally{try{s&&!s.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}})).observe(n[0],{childList:!0,attributes:!1,subtree:!0})}),1e4),window.addEventListener("beforeunload",(function(e){if(clearTimeout(v),w(),!c&&(f||p))return e.returnValue=r,r}))},(0,a.default)((function(){function e(){(0,a.default)("textarea[data-autosize-on]").each((function(){autosize.update((0,a.default)(this).get())}))}if((0,a.default)("body").addClass("ready"),(0,a.default)(document).on("focus mouseover","input,textarea,select",(function(){(0,a.default)(this).closest(".field").addClass("focused"),(0,a.default)(this).closest("fieldset").addClass("focused"),(0,a.default)(this).closest("li").addClass("focused")})),(0,a.default)(document).on("blur mouseout","input,textarea,select",(function(){(0,a.default)(this).closest(".field").removeClass("focused"),(0,a.default)(this).closest("fieldset").removeClass("focused"),(0,a.default)(this).closest("li").removeClass("focused")})),(0,a.default)(document).ready(e),document.addEventListener("wagtail:tab-changed",e),(0,a.default)(".dropdown").each((function(){var e=(0,a.default)(this);(0,a.default)(".dropdown-toggle",e).on("click",(function(t){t.stopPropagation(),e.toggleClass("open"),e.hasClass("open")?(0,a.default)(document).on("click.dropdown.cancel",(function(t){var n=t.relatedTarget||t.toElement;(0,a.default)(n).parents().is(e)||(e.removeClass("open"),(0,a.default)(document).off("click.dropdown.cancel"))})):(0,a.default)(document).off("click.dropdown.cancel")}))})),(0,a.default)(".drop-zone").on("dragover",(function(){(0,a.default)(this).addClass("hovered")})).on("dragleave dragend drop",(function(){(0,a.default)(this).removeClass("hovered")})),window.headerSearch){var t=0,n=0,o=(0,a.default)(window.headerSearch.termInput),r=o.parent();o.on("keyup cut paste change",(function(){clearTimeout(o.data("timer")),o.data("timer",setTimeout(i,200))})),o.trigger("focus");var i=function(){var e="icon-spinner",i=o.val();if(s("q").trim()!==i.trim()){r.addClass(e);var l=++n;a.default.ajax({url:window.headerSearch.url,data:{q:i},success:function(e){l>t&&(t=l,(0,a.default)(window.headerSearch.targetOutput).html(e).slideDown(800),window.history.replaceState(null,null,"?q="+i),o[0].dispatchEvent(new Event("search-success")))},complete:function(){window.wagtail.ui.initDropDowns(),r.removeClass(e)}})}},s=function(e){var t=new RegExp("[\\?&]"+e+"=([^]*)").exec(window.location.search);return t?t[1]:""}}(0,a.default)(document).on("click","button.button-longrunning",(function(){var e=(0,a.default)(this),t=(0,a.default)("em",e),n="disabledtimeout";window.cancelSpinner=function(){e.prop("disabled","").removeData(n).removeClass("button-longrunning-active"),e.data("clicked-text")&&t.text(e.data("original-text"))};var o=e.closest("form").get(0);if(!o||!o.checkValidity||o.noValidate||o.checkValidity())var r=setTimeout((function(){e.data(n)||(e.data(n,setTimeout((function(){clearTimeout(e.data(n)),cancelSpinner()}),3e4)),e.data("clicked-text")&&t.length&&(e.data("original-text",t.text()),t.text(e.data("clicked-text"))),e.addClass("button-longrunning-active").prop("disabled","true")),clearTimeout(r)}),10)}))}));var i=window.wagtail||{};i.ui||(i.ui={});var s="listing__item--active",l="icon-arrow-down",u="icon-arrow-up",c="is-open",d="click",f="[data-dropdown-toggle]",p="aria-hidden",h=13,v=32,w={dropDowns:[],closeAllExcept:function(e){var t=this.dropDowns.indexOf(e);this.dropDowns.forEach((function(e,n){n!==t&&e.state.isOpen&&e.closeDropDown()}))},add:function(e){this.dropDowns.push(e)},get:function(){return this.dropDowns},getByIndex:function(e){return this.dropDowns[e]},getOpenDropDown:function(){var e=null;return this.dropDowns.forEach((function(t){t.state.isOpen&&(e=t)})),e}};function m(e,t){e&&t||!("error"in console)?(this.el=e,this.$parent=(0,a.default)(e).parents("[data-listing-page-title]"),this.state={isOpen:!1},this.registry=t,this.clickOutsideDropDown=this.clickOutsideDropDown.bind(this),this.closeDropDown=this.closeDropDown.bind(this),this.openDropDown=this.openDropDown.bind(this),this.handleClick=this.handleClick.bind(this),this.handleKeyEvent=this.handleKeyEvent.bind(this),e.addEventListener(d,this.handleClick),e.addEventListener("keydown",this.handleKeyEvent),this.$parent.data("close",this.closeDropDown)):console.error("A dropdown was created without an element or the DropDownController.\nMake sure to pass both to your component.")}function g(){var e=new m(this,w);w.add(e)}function y(e){if(27===e.which){var t=w.getOpenDropDown();t&&t.closeDropDown()}}function D(){(0,a.default)("[data-dropdown]").each(g),(0,a.default)(document).on("keydown",y)}m.prototype={handleKeyEvent:function(e){[v,h].indexOf(e.which)>-1&&(e.preventDefault(),this.handleClick(e))},handleClick:function(e){this.state.isOpen?this.closeDropDown(e):this.openDropDown(e)},openDropDown:function(e){e.stopPropagation(),e.preventDefault();var t=this.el,n=this.$parent,o=t.querySelector(f);this.state.isOpen=!0,this.registry.closeAllExcept(this),t.classList.add(c),t.setAttribute(p,!1),o.classList.remove(l),o.classList.add(u),document.addEventListener(d,this.clickOutsideDropDown,!1),n.addClass(s)},closeDropDown:function(){this.state.isOpen=!1;var e=this.el,t=this.$parent,n=e.querySelector(f);document.removeEventListener(d,this.clickOutsideDropDown,!1),e.classList.remove(c),n.classList.add(l),n.classList.remove(u),e.setAttribute(p,!0),t.removeClass(s)},clickOutsideDropDown:function(e){var t=this.el,n=e.relatedTarget||e.toElement;(0,a.default)(n).parents().is(t)||this.closeDropDown()}},(0,a.default)(document).ready(D),i.ui.initDropDowns=D,i.ui.DropDownController=w,(0,a.default)(document).ready((function(){document.querySelectorAll(".button-select").forEach((function(e){var t=e.querySelector('input[type="hidden"]');e.querySelectorAll(".button-select__option").forEach((function(n){n.addEventListener("click",(function(o){o.preventDefault(),t.value=n.value,e.querySelectorAll(".button-select__option--selected").forEach((function(e){e.classList.remove("button-select__option--selected")})),n.classList.add("button-select__option--selected")}))}))}))})),window.wagtail=i},5311:e=>{e.exports=jQuery}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var a=n[e]={exports:{}};return t[e].call(a.exports,a,a.exports,o),a.exports}o.m=t,e=[],o.O=(t,n,r,a)=>{if(!n){var i=1/0;for(c=0;c<e.length;c++){for(var[n,r,a]=e[c],s=!0,l=0;l<n.length;l++)(!1&a||i>=a)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(s=!1,a<i&&(i=a));if(s){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,r,a]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.j=1321,(()=>{var e={1321:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,[i,s,l]=n,u=0;if(i.some((t=>0!==e[t]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(l)var c=l(o)}for(t&&t(n);u<i.length;u++)a=i[u],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(c)},n=globalThis.webpackChunkwagtail=globalThis.webpackChunkwagtail||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,[2751],(()=>o(4639)));r=o.O(r)})();