(()=>{"use strict";var e,t={5843:function(e,t,n){var a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};t.__esModule=!0;var i=o(n(5311)),r=n(8328),d=o(n(9592));function l(){var e=!1;(0,i.default)("#id_title").on("focus",(function(){var t=(0,i.default)("#id_slug").val(),n=(0,r.cleanForSlug)(this.value,!0);e=t===n})),(0,i.default)("#id_title").on("keyup keydown keypress blur",(function(){if(e){var t=(0,r.cleanForSlug)(this.value,!0);(0,i.default)("#id_slug").val(t)}}))}function s(){(0,i.default)("#id_slug").on("blur",(function(){(0,i.default)(this).val((0,r.cleanForSlug)((0,i.default)(this).val(),!1))}))}function u(){var e={};for(var t in(0,i.default)(".error-message,.help-critical").each((function(){var t=(0,i.default)(this).closest("section");e[t.attr("id")]||(e[t.attr("id")]=0),e[t.attr("id")]=e[t.attr("id")]+1})),e)(0,i.default)('[data-tabs] a[href="#'+t+'"]').find("[data-tabs-errors]").addClass("!w-flex").find("[data-tabs-errors-count]").text(e[t])}function c(){Mousetrap.bind(["mod+p"],(function(){return(0,i.default)(".action-preview").trigger("click"),!1})),Mousetrap.bind(["mod+s"],(function(){return(0,i.default)(".action-save").trigger("click"),!1}))}window.InlinePanel=function(e){var t={setHasContent:function(){(0,i.default)("> li",t.formsUl).not(".deleted").length?t.formsUl.parent().removeClass("empty"):t.formsUl.parent().addClass("empty")},initChildControls:function(n){var a="inline_child_"+n,o="id_"+n+"-DELETE";t.setHasContent(),(0,i.default)("#"+o+"-button").on("click",(function(){(0,i.default)("#"+o).val("1"),(0,i.default)("#"+a).addClass("deleted").slideUp((function(){t.updateMoveButtonDisabledStates(),t.updateAddButtonState(),t.setHasContent()}))})),e.canOrder&&((0,i.default)("#"+n+"-move-up").on("click",(function(){var e=(0,i.default)("#"+a),n=e.children('input[name$="-ORDER"]'),o=n.val(),r=e.prevAll(":not(.deleted)").first();if(r.length){var d=r.children('input[name$="-ORDER"]'),l=d.val();t.animateSwap(e,r),e.insertBefore(r),n.val(l),d.val(o),t.updateMoveButtonDisabledStates()}})),(0,i.default)("#"+n+"-move-down").on("click",(function(){var e=(0,i.default)("#"+a),n=e.children('input[name$="-ORDER"]'),o=n.val(),r=e.nextAll(":not(.deleted)").first();if(r.length){var d=r.children('input[name$="-ORDER"]'),l=d.val();t.animateSwap(e,r),e.insertAfter(r),n.val(l),d.val(o),t.updateMoveButtonDisabledStates()}}))),"1"===(0,i.default)("#"+o).val()&&((0,i.default)("#"+a).addClass("deleted").hide(0,(function(){t.updateMoveButtonDisabledStates(),t.updateAddButtonState(),t.setHasContent()})),(0,i.default)("#"+a).find(".error-message").remove())}};return t.formsUl=(0,i.default)("#"+e.formsetPrefix+"-FORMS"),t.updateMoveButtonDisabledStates=function(){if(e.canOrder){var n=t.formsUl.children("li:not(.deleted)");n.each((function(e){(0,i.default)("ul.controls .inline-child-move-up",this).toggleClass("disabled",0===e).toggleClass("enabled",0!==e),(0,i.default)("ul.controls .inline-child-move-down",this).toggleClass("disabled",e===n.length-1).toggleClass("enabled",e!==n.length-1)}))}},t.updateAddButtonState=function(){if(e.maxForms){var n=(0,i.default)("> [data-inline-panel-child]",t.formsUl).not(".deleted"),a=(0,i.default)("#"+e.formsetPrefix+"-ADD");n.length>=e.maxForms?a.addClass("disabled"):a.removeClass("disabled")}},t.animateSwap=function(e,n){var a=t.formsUl,o=a.children("li:not(.deleted)");a.addClass("moving").css("height",a.height()),o.each((function(){(0,i.default)(this).css("top",(0,i.default)(this).position().top)})).addClass("moving"),e.animate({top:n.position().top},200,(function(){a.removeClass("moving").removeAttr("style"),o.removeClass("moving").removeAttr("style")})),n.animate({top:e.position().top},200,(function(){a.removeClass("moving").removeAttr("style"),o.removeClass("moving").removeAttr("style")}))},buildExpandingFormset(e.formsetPrefix,{onAdd:function(n){var a=e.emptyChildFormPrefix.replace(/__prefix__/g,n);t.initChildControls(a),e.canOrder&&(0,i.default)("#id_"+a+"-ORDER").val(n+1),t.updateMoveButtonDisabledStates(),t.updateAddButtonState(),e.onAdd&&e.onAdd()}}),t},window.cleanForSlug=r.cleanForSlug,window.initSlugAutoPopulate=l,window.initSlugCleaning=s,window.initErrorDetection=u,window.initKeyboardShortcuts=c,(0,i.default)((function(){(0,i.default)("body").hasClass("page-is-live")||l(),s(),u(),c(),(0,d.default)();var e=(0,i.default)(".action-preview"),t=(0,i.default)("#page-edit-form"),n=e.data("action"),a=-1;function o(){return i.default.ajax({url:n,method:"POST",data:new FormData(t[0]),processData:!1,contentType:!1})}e.one("click",(function(){e.data("auto-update")&&t.on("change keyup DOMSubtreeModified",(function(){clearTimeout(a),a=setTimeout(o,1e3)})).trigger("change")})),e.on("click",(function(e){e.preventDefault();var n=(0,i.default)(this),a=n.filter(".icon"),r=n.data("action");a.addClass("icon-spinner").removeClass("icon-view");var d=window.open("",r);d.focus(),o().done((function(e){e.is_valid?d.document.location=r:(window.focus(),d.close(),t.trigger("submit"))})).fail((function(){alert("Error while sending preview data."),window.focus(),d.close()})).always((function(){a.addClass("icon-view").removeClass("icon-spinner")}))}))}));var f=-1;window.updateFooterSaveWarning=function(e,t){var n=(0,i.default)("[data-unsaved-warning]"),o=n.find("[data-unsaved-type]"),r=e||t,d={all:e&&t,any:r,comments:t&&!e,edits:e&&!t},l=!1;r?n.removeClass("footer__container--hidden"):(n.hasClass("footer__container--hidden")||(l=!0),n.addClass("footer__container--hidden")),clearTimeout(f);var s=function(){var e,t;try{for(var n=a(o),i=n.next();!i.done;i=n.next()){var r=i.value,l=d[r.dataset.unsavedType];r.hidden=!l}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}};l?f=setTimeout(s,1050):s()},document.addEventListener("DOMContentLoaded",(function(){var e=function(e){var t=document.querySelector("[data-form-side]"),n=document.querySelector("body");""===e||"comments"===e?(t.classList.remove("form-side--open"),t.removeAttribute("aria-labelledby")):(t.classList.add("form-side--open"),t.setAttribute("aria-labelledby","side-panel-".concat(e,"-title"))),document.querySelectorAll("[data-side-panel]").forEach((function(t){t.dataset.sidePanel===e?t.hidden&&(t.hidden=!1,t.dispatchEvent(new CustomEvent("show")),n.classList.add("side-panel-open")):t.hidden||(t.hidden=!0,t.dispatchEvent(new CustomEvent("hide")),n.classList.remove("side-panel-open"))})),document.querySelectorAll("[data-side-panel-toggle]").forEach((function(t){t.setAttribute("aria-expanded",t.dataset.sidePanelToggle===e?"true":"false")}))};document.querySelectorAll("[data-side-panel-toggle]").forEach((function(t){t.addEventListener("click",(function(){var n,a;n=t.dataset.sidePanelToggle,a=!document.querySelector('[data-side-panel="'.concat(n,'"]')).hasAttribute("hidden"),e(a?"":n)}))}));var t=document.querySelector("[data-form-side-close-button]");t instanceof HTMLButtonElement&&t.addEventListener("click",(function(){e("")}))}))},9592:(e,t)=>{t.__esModule=!0,t.default=function(){var e=document.querySelector("[data-breadcrumb-next]"),t=document.querySelector("[data-slim-header]");if(e){var n,a=e.querySelector("[data-toggle-breadcrumbs]"),o=e.querySelectorAll("[data-breadcrumb-item]"),i="w-max-w-4xl",r=!1,d=!0,l=!1;a.addEventListener("keydown",(function(e){" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),l||r?s():(u(),l=!0,a.querySelector("svg use").setAttribute("href","#icon-cross")))})),a.addEventListener("click",(function(){l&&(d=!1,s()),r?(d=!1,l=!0,a.querySelector("svg use").setAttribute("href","#icon-cross")):d&&u()})),a.addEventListener("mouseenter",(function(){!r&&d&&(r=!0,d=!1,u())})),a.addEventListener("mouseleave",(function(){d=!0})),t.addEventListener("mouseleave",(function(){l||(n=setTimeout((function(){s()}),500))})),t.addEventListener("mouseenter",(function(){clearTimeout(n)})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&s()}))}function s(){o.forEach((function(e){e.classList.remove(i),e.hidden=!0})),a.setAttribute("aria-expanded","false"),a.querySelector("svg use").setAttribute("href","#icon-breadcrumb-expand"),r=!1,l=!1,document.dispatchEvent(new CustomEvent("wagtail:breadcrumbs-collapse"))}function u(){o.forEach((function(e,t){setTimeout((function(){e.hidden=!1,setTimeout((function(){e.classList.add(i)}),50)}),10*t)})),a.setAttribute("aria-expanded","true"),r=!0,document.dispatchEvent(new CustomEvent("wagtail:breadcrumbs-expand"))}}},8328:(e,t)=>{t.__esModule=!0,t.cleanForSlug=void 0,t.cleanForSlug=function(e,t){if(t){var n=URLify(e,255,window.unicodeSlugsEnabled);if(n)return n}return window.unicodeSlugsEnabled?e.replace(/\s/g,"-").replace(/[&/\\#,+()$~%.'":`@^!*?<>{}]/g,"").toLowerCase():e.replace(/\s/g,"-").replace(/[^A-Za-z0-9\-_]/g,"").toLowerCase()}},5311:e=>{e.exports=jQuery}},n={};function a(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,a),i.exports}a.m=t,e=[],a.O=(t,n,o,i)=>{if(!n){var r=1/0;for(u=0;u<e.length;u++){for(var[n,o,i]=e[u],d=!0,l=0;l<n.length;l++)(!1&i||r>=i)&&Object.keys(a.O).every((e=>a.O[e](n[l])))?n.splice(l--,1):(d=!1,i<r&&(r=i));if(d){e.splice(u--,1);var s=o();void 0!==s&&(t=s)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,o,i]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.j=6607,(()=>{var e={6607:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[r,d,l]=n,s=0;if(r.some((t=>0!==e[t]))){for(o in d)a.o(d,o)&&(a.m[o]=d[o]);if(l)var u=l(a)}for(t&&t(n);s<r.length;s++)i=r[s],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(u)},n=globalThis.webpackChunkwagtail=globalThis.webpackChunkwagtail||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=a.O(void 0,[2751],(()=>a(5843)));o=a.O(o)})();