(()=>{"use strict";var e,t={4174:(e,t,n)=>{var a=n(7107),r=n(5781),l=n(9408);const i=(e,t=!("true"===e.getAttribute("aria-expanded")))=>{const n=document.querySelector(`#${e.getAttribute("aria-controls")}`);n&&(e.setAttribute("aria-expanded",`${t}`),t?n.removeAttribute("hidden"):"onbeforematch"in document.body?n.setAttribute("hidden","until-found"):n.setAttribute("hidden",""),e.dispatchEvent(new CustomEvent("commentAnchorVisibilityChange",{bubbles:!0})),e.dispatchEvent(new CustomEvent("wagtail:panel-toggle",{bubbles:!0,cancelable:!1,detail:{expanded:t}})))};function o(e){const t=e.closest("[data-panel]"),n=document.querySelector(`#${e.getAttribute("aria-controls")}`);if(!n||!t||t.collapsibleInitialised)return;t.collapsibleInitialised=!0;const a=i.bind(null,e),r=t.classList.contains("collapsed"),l=n.querySelector('[aria-invalid="true"], .error, .w-field--error'),o=r&&!l;o&&a(!1),e.addEventListener("click",a.bind(null,void 0));const s=t.querySelector("[data-panel-heading]");s&&s.addEventListener("click",a.bind(null,void 0)),n.addEventListener("beforematch",a.bind(null,!0)),e.dispatchEvent(new CustomEvent("wagtail:panel-init",{bubbles:!0,cancelable:!1,detail:{expanded:!o}}))}var s=n(4530),c=n.n(s),d=n(7858),u=n.n(d),m=n(9437),p=n(1302);const g=({expanded:e,floating:t,insideMinimap:n,onClick:a})=>c().createElement("button",{type:"button","aria-expanded":e,onClick:a,className:`button button-small button-secondary w-minimap__collapse-all ${t?"w-minimap__collapse-all--floating":""} ${n?"w-minimap__collapse-all--inside":""}`},c().createElement(p.Z,{name:e?"collapse-up":"collapse-down"}),e?(0,l.ih)("Collapse all"):(0,l.ih)("Expand all")),f=c().createElement("span",{className:"w-required-mark"},"*"),h=({item:e,intersects:t,expanded:n,onClick:a})=>{const{href:r,label:i,icon:o,required:s,errorCount:d,level:u}=e,m=d>0,g=(0,l.qP)("%(num)s error","%(num)s errors",d).replace("%(num)s",`${d}`),h=i.length>22?`${i.substring(0,22)}â€¦`:i;return c().createElement("a",{href:r,className:`w-minimap-item w-minimap-item--${u} ${t?"w-minimap-item--active":""} ${m?"w-minimap-item--error":""}`,onClick:a.bind(null,e),"aria-current":t,tabIndex:n?void 0:-1,"aria-describedby":n?void 0:"w-minimap-toggle"},m?c().createElement("div",{className:"w-minimap-item__errors","aria-label":g},d):null,c().createElement(p.Z,{name:"minus",className:"w-minimap-item__placeholder"}),"h1"!==u&&"h2"!==u?c().createElement(p.Z,{name:o,className:"w-minimap-item__icon"}):null,c().createElement("span",{className:"w-minimap-item__label"},c().createElement("span",{className:"w-minimap-item__text"},h),s?f:null))},b={root:null,rootMargin:"-50px 0px -70px 0px",threshold:.1},v=(e,{target:t,isIntersecting:n})=>(e[`#${t.closest("[data-panel]")?.id}`||""]=n,e),y=({container:e,anchorsContainer:t,links:n,onUpdate:a,toggleAllPanels:r})=>{const o=(0,s.useMemo)((()=>(()=>{let e="false";try{e=localStorage.getItem("wagtail:minimap-expanded")||e}catch{}return"true"===e})()),[]),[d,u]=(0,s.useState)(o),f=(0,s.useCallback)(((e=!d)=>{u(e),document.body.classList.toggle("minimap-open",e);try{localStorage.setItem("wagtail:minimap-expanded",e?"true":"false")}catch{}}),[d,u]),[y,w]=(0,s.useState)(!0),[E,S]=(0,s.useState)({}),x=(0,s.useRef)(null),q=(0,s.useRef)({}),L=(0,s.useRef)(null),A=(0,s.useRef)(null),_=(e,t)=>{d||t.preventDefault(),i(e.toggle,!0),f(!0)};return(0,s.useEffect)((()=>{f(o)}),[]),(0,s.useEffect)((()=>{x.current||(x.current=new IntersectionObserver((t=>{q.current=t.reduce(v,{...q.current}),L.current||(L.current=(0,m.D)((e=>{S(e),(e=>{const t=e.querySelectorAll('a[aria-current="true"]');if(0===t.length||e.scrollHeight===e.clientHeight)return;const n=t[0],a=t[t.length-1];let r=e.scrollTop;n&&n.offsetTop<e.scrollTop&&(r=n.offsetTop),a&&a.offsetTop>e.scrollTop+e.offsetHeight&&(r=a.offsetTop-e.offsetHeight+a.offsetHeight),e.scrollTop=r})(A.current)}),100)),L.current(q.current),t.forEach((({target:t})=>{t.closest(".deleted")&&a(e)}))}),b));const t=x.current;return t.disconnect(),n.forEach((({panel:e,toggle:n})=>{const a=e.matches(".w-panel--nested")&&null===e.closest("[data-field]");t.observe(a?n:e)})),()=>{t.disconnect()}}),[n,e]),(0,s.useEffect)((()=>{w(!0)}),[t,w]),c().createElement("div",null,c().createElement(g,{expanded:y,onClick:()=>{w(!y),r(!y)},floating:!0,insideMinimap:d}),c().createElement("div",{className:"w-minimap "+(d?"w-minimap--expanded":"")},c().createElement("div",{className:"w-minimap__header"},c().createElement("button",{id:"w-minimap-toggle",type:"button","aria-expanded":d,onClick:()=>f(!d),className:"w-minimap__toggle","aria-label":(0,l.ih)("Toggle side panel")},c().createElement(p.Z,{name:"expand-right"}))),c().createElement("ol",{className:"w-minimap__list",ref:A},n.map((e=>c().createElement("li",{key:e.href},c().createElement(h,{item:e,intersects:E[e.href],expanded:d,onClick:_}))))),c().createElement("div",{className:"w-minimap__footer"})))},w=e=>{const t=e.closest("[data-panel]"),n=t?.getAttribute("aria-labelledby"),a=t?.querySelector(`#${n}`),r=t?.querySelector("[data-panel-toggle]"),l=e.closest("[data-inline-panel-child].deleted");if(!t||!a||!r||l)return null;const i=a.querySelector("[data-panel-heading-text]")?.textContent||a.textContent?.replace(/\s+\*\s+$/g,"").trim(),o=null!==t.querySelector("[data-panel-required]"),s=r.querySelector("use")?.getAttribute("href")?.replace("#icon-","")||"",c=`h${a.getAttribute("aria-level")||a.tagName[1]||2}`,d=[].slice.call(t.querySelectorAll(".error-message")).filter((e=>e.closest("[data-panel]")===t)).length;return{anchor:e,toggle:r,panel:t,icon:s,label:i||"",href:e.getAttribute("href")||"",required:o,errorCount:d,level:c}},E=e=>{let t=document.body;const n=document.querySelector("[data-tabs]");if(n){const e=n.querySelector('[role="tab"][aria-selected="true"]')?.getAttribute("aria-controls");t=n.querySelector(`#${e}`)||t}const a=t.querySelectorAll("[data-panel-anchor]"),r=[].slice.call(a).map(w).filter(Boolean);u().render(c().createElement(y,{container:e,anchorsContainer:t,links:r,onUpdate:E,toggleAllPanels:e=>{r.forEach(((t,n)=>{0===n&&t.href.includes("title")||i(t.toggle,e)}))}}),e)};document.addEventListener("DOMContentLoaded",(()=>{(0,a.bp)(),(0,r.U)(),function(){const e=document.querySelector("[data-form-side]");if(!e)return;const t="formSideExplorer"in e.dataset,n=document.querySelector("[data-form-side-resize-grip]"),a=document.querySelector("[data-form-side-width-input]"),r=()=>{const t=getComputedStyle(e),n=parseFloat(t.minWidth),a=parseFloat(t.maxWidth),r=parseFloat(t.width),l=a-n;return{minWidth:n,maxWidth:a,width:r,range:l,percentage:(r-n)/l*100}},i=e=>"rtl"===document.documentElement.dir?e:100-e;let o;const s=n=>{clearTimeout(o);const l=document.querySelector("body"),s=document.querySelector(`[data-side-panel-toggle="${n}"]`);if((!n||s)&&(""===n?(e.classList.remove("form-side--open"),e.removeAttribute("aria-labelledby")):(e.classList.add("form-side--open"),e.setAttribute("aria-labelledby",`side-panel-${n}-title`)),document.querySelectorAll("[data-side-panel]").forEach((t=>{const a=t.dataset.sidePanel;if(a===n)t.hidden&&(t.hidden=!1,t.dispatchEvent(new CustomEvent("show")),e.classList.add(`form-side--${a}`),l.classList.add("side-panel-open"));else if(!t.hidden){const r=()=>{t.hidden=!0,t.dispatchEvent(new CustomEvent("hide")),e.classList.remove(`form-side--${a}`)};""===n?(l.classList.remove("side-panel-open"),o=setTimeout(r,500)):r()}})),document.querySelectorAll("[data-side-panel-toggle]").forEach((e=>{e.setAttribute("aria-expanded",e.dataset.sidePanelToggle===n?"true":"false")})),!t)){try{localStorage.setItem("wagtail:side-panel-open",n)}catch(e){}setTimeout((()=>{const{percentage:e}=r();a.value=i(e)}),500)}};document.querySelectorAll("[data-side-panel]").forEach((e=>{e.addEventListener("open",(()=>{s(e.dataset.sidePanel)}))})),document.querySelectorAll("[data-side-panel-toggle]").forEach((e=>{e.addEventListener("click",(()=>{(e=>{const t=!document.querySelector(`[data-side-panel="${e}"]`).hasAttribute("hidden");s(t?"":e)})(e.dataset.sidePanelToggle)}))}));const c=document.querySelector("[data-form-side-close-button]");c instanceof HTMLButtonElement&&c.addEventListener("click",(()=>{s("")}));const d=n=>{const{minWidth:o,maxWidth:s,range:c,width:d}=r(),u=parseInt(Math.max(o,Math.min(n,s)),10)||d,m=(0,l.qP)("%(num)s pixel","%(num)s pixels",u).replace("%(num)s",u);e.parentElement.style.setProperty("--side-panel-width",`${u}px`);const p=(u-o)/c*100;if(a.value=i(p),a.setAttribute("aria-valuetext",m),!t)try{localStorage.setItem("wagtail:side-panel-width",u)}catch(e){}};let u,m;const p=e=>{if(!e.screenX||!u||!m)return;const t="rtl"===document.documentElement.dir?-1:1,n=u-e.screenX;d(m+n*t)},g=e=>{n.releasePointerCapture(e.pointerId),n.removeEventListener("pointermove",p),document.removeEventListener("pointerup",g),document.body.classList.remove("side-panel-resizing")};n.addEventListener("pointerdown",(e=>{0===e.button&&(u=e.screenX,m=r().width,document.body.classList.add("side-panel-resizing"),n.setPointerCapture(e.pointerId),n.addEventListener("pointermove",p),document.addEventListener("pointerup",g))})),a.addEventListener("change",(e=>{const{minWidth:t,range:n}=r(),a=parseInt(e.target.value,10),l=i(a);d(t+n*l/100)})),setTimeout((()=>{try{const e=localStorage.getItem("wagtail:side-panel-open");!t&&e&&s(e),d(localStorage.getItem("wagtail:side-panel-width"))}catch(e){}setTimeout((()=>{e.classList.remove("form-side--initial")}))}))}(),function(e=document.querySelectorAll("[data-panel-toggle]")){e.forEach(o)}()})),window.addEventListener("load",(()=>{!function(e=document.querySelector("[data-panel]:target")){e&&e.scrollIntoView({behavior:"smooth"})}(),((e=document.querySelector("[data-minimap-container]"))=>{if(!e)return;if(!document.body.querySelectorAll("[data-panel-anchor]").length)return;const t=(0,m.D)(E.bind(null,e),100);document.addEventListener("wagtail:tab-changed",t),document.addEventListener("wagtail:panel-init",t);const n=()=>e.style.setProperty("--offset-top",`${e.offsetTop}px`),a=(0,m.D)(n,100);document.addEventListener("resize",a),n(),t(e)})()})),window.addEventListener("w-swap:success",(()=>{(0,a.bp)()}))}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,a),l.exports}a.m=t,e=[],a.O=(t,n,r,l)=>{if(!n){var i=1/0;for(d=0;d<e.length;d++){for(var[n,r,l]=e[d],o=!0,s=0;s<n.length;s++)(!1&l||i>=l)&&Object.keys(a.O).every((e=>a.O[e](n[s])))?n.splice(s--,1):(o=!1,l<i&&(i=l));if(o){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[n,r,l]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.j=404,(()=>{var e={404:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,l,[i,o,s]=n,c=0;if(i.some((t=>0!==e[t]))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(s)var d=s(a)}for(t&&t(n);c<i.length;c++)l=i[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},n=globalThis.webpackChunkwagtail=globalThis.webpackChunkwagtail||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=a.O(void 0,[751],(()=>a(4174)));r=a.O(r)})();